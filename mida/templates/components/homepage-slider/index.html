<!-- mida-portal/mida/static/mida/components/homepage-slider/index.html -->
{% load static wagtailcore_tags wagtailcustom_tags wagtailimages_tags %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'mida/components/homepage-slider/style.css' %}">
{% endblock extra_css %}

{% block extra_js %}
    <script src="{% static 'mida/components/homepage-slider/homepage-slider.js' %}"></script>
{% endblock extra_js %}

<section class="homepage-slider">
    <div class="container">
        <div class="max-width">
            <!-- Header -->
            <div class="header">
                <h1 class="title">Latest News</h1>
                
                <div class="header-controls">
                    <!-- Navigation Arrows - Hidden on mobile -->
                    <div class="arrow-buttons desktop-only">
                        <button id="prevBtn" class="arrow-button" aria-label="Previous slide">
                            <svg class="arrow-svg" fill="none" preserveAspectRatio="none" viewBox="0 0 60 60">
                                <g class="arrow-group">
                                    <path d="M29.6187 57.2375C44.8722 57.2375 57.2375 44.8722 57.2375 29.6187C57.2375 14.3653 44.8722 2 29.6187 2C14.3653 2 2 14.3653 2 29.6187C2 44.8722 14.3653 57.2375 29.6187 57.2375Z" fill="#FFA400" />
                                    <path d="M25 19L36 30L25 41" stroke="white" stroke-linecap="round" stroke-width="2" transform="translate(60, 0) scale(-1, 1)"/>
                                </g>
                            </svg>
                        </button>
                        <button id="nextBtn" class="arrow-button" aria-label="Next slide">
                            <svg class="arrow-svg" fill="none" preserveAspectRatio="none" viewBox="0 0 60 60">
                                <g class="arrow-group">
                                    <path d="M29.6187 57.2375C44.8722 57.2375 57.2375 44.8722 57.2375 29.6187C57.2375 14.3653 44.8722 2 29.6187 2C14.3653 2 2 14.3653 2 29.6187C2 44.8722 14.3653 57.2375 29.6187 57.2375Z" fill="#FFA400" />
                                    <path d="M25 19L36 30L25 41" stroke="white" stroke-linecap="round" stroke-width="2"/>
                                </g>
                            </svg>
                        </button>
                    </div>

                    <!-- Go to All News Button -->
                    <button class="all-news-button">
                        <span class="all-news-text">GO TO ALL NEWS</span>
                    </button>
                </div>
            </div>

            <!-- Slider Container -->
            <div class="slider-wrapper">
                <div id="slider" class="slider">
                    {% for slide in page.slides.all %}
                        <div class="slide">
                            <div class="news-post">
                                <div class="news-image-section">
                                    {% image slide.slide_image fill-800x390 as slide_img %}
                                    <img src="{{ slide_img.url }}" alt="{{ slide.title }}" class="news-image">

                                    {% if slide.link_page and slide.link_page.first_published_at %}
                                        <div class="date-badge">
                                            <div class="date-icon">
                                                <svg fill="none" preserveAspectRatio="none" viewBox="0 0 14.4 16">
                                                    <path d="M11.6198 1.22916H11.0827V0.625C11.0827 0.279813 10.831 0 10.5204 0C10.2099 0 9.9582 0.279813 9.9582 0.625V1.22916H4.44177V0.625C4.44177 0.279813 4.19005 0 3.87952 0C3.56899 0 3.31727 0.279813 3.31727 0.625V1.22916H2.78018C1.24718 1.22916 0 2.61553 0 4.31959V12.9095C0 14.6136 1.24718 16 2.78018 16H11.6198C13.1528 16 14.4 14.6136 14.4 12.9095V4.31959C14.4 2.61553 13.1528 1.22916 11.6198 1.22916ZM2.78018 2.47916H3.31727V3.69791C3.31727 4.04309 3.56899 4.32291 3.87952 4.32291C4.19005 4.32291 4.44177 4.04309 4.44177 3.69791V2.47916H9.95823V3.69791C9.95823 4.04309 10.2099 4.32291 10.5205 4.32291C10.831 4.32291 11.0827 4.04309 11.0827 3.69791V2.47916H11.6198C12.5328 2.47916 13.2755 3.30478 13.2755 4.31959V4.91666H1.1245V4.31959C1.1245 3.30478 1.86723 2.47916 2.78018 2.47916ZM11.6198 14.75H2.78018C1.86723 14.75 1.1245 13.9244 1.1245 12.9095V6.16666H13.2755V12.9095C13.2755 13.9244 12.5328 14.75 11.6198 14.75ZM4.99466 8.625C4.99466 8.97019 4.74294 9.25 4.43241 9.25H3.32666C3.01613 9.25 2.76441 8.97019 2.76441 8.625C2.76441 8.27981 3.01613 8 3.32666 8H4.43241C4.74291 8 4.99466 8.27981 4.99466 8.625ZM11.6356 8.625C11.6356 8.97019 11.3839 9.25 11.0734 9.25H9.96762C9.65709 9.25 9.40537 8.97019 9.40537 8.625C9.40537 8.27981 9.65709 8 9.96762 8H11.0734C11.3839 8 11.6356 8.27981 11.6356 8.625ZM8.31193 8.625C8.31193 8.97019 8.06021 9.25 7.74968 9.25H6.64393C6.3334 9.25 6.08168 8.97019 6.08168 8.625C6.08168 8.27981 6.3334 8 6.64393 8H7.74968C8.06018 8 8.31193 8.27981 8.31193 8.625ZM4.99466 12.3125C4.99466 12.6577 4.74294 12.9375 4.43241 12.9375H3.32666C3.01613 12.9375 2.76441 12.6577 2.76441 12.3125C2.76441 11.9673 3.01613 11.6875 3.32666 11.6875H4.43241C4.74291 11.6875 4.99466 11.9673 4.99466 12.3125ZM11.6356 12.3125C11.6356 12.6577 11.3839 12.9375 11.0734 12.9375H9.96762C9.65709 12.9375 9.40537 12.6577 9.40537 12.3125C9.40537 11.9673 9.65709 11.6875 9.96762 11.6875H11.0734C11.3839 11.6875 11.6356 11.9673 11.6356 12.3125ZM8.31193 12.3125C8.31193 12.6577 8.06021 12.9375 7.74968 12.9375H6.64393C6.3334 12.9375 6.08168 12.6577 6.08168 12.3125C6.08168 11.9673 6.3334 11.6875 6.64393 11.6875H7.74968C8.06018 11.6875 8.31193 11.9673 8.31193 12.3125Z" fill="white" />
                                                </svg>
                                            </div>
                                            <p class="date-text">{{ slide.link_page.first_published_at|date:"F j, Y" }}</p>
                                        </div>
                                    {% endif %}
                                </div>

                                <div class="news-content">
                                    <h3 class="news-title">{{ slide.title }}</h3>
                                    <p class="news-description">{{ slide.body|striptags }}</p>
                                    <a class="read-more-button" href="{{ slide.link }}">
                                        <span class="read-more-text">READ MORE</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Mobile Navigation Arrows -->
            <div class="arrow-buttons mobile-only">
                <button id="prevBtnMobile" class="arrow-button" aria-label="Previous slide">
                    <svg class="arrow-svg" fill="none" preserveAspectRatio="none" viewBox="0 0 60 60">
                        <g class="arrow-group">
                            <path d="M29.6187 57.2375C44.8722 57.2375 57.2375 44.8722 57.2375 29.6187C57.2375 14.3653 44.8722 2 29.6187 2C14.3653 2 2 14.3653 2 29.6187C2 44.8722 14.3653 57.2375 29.6187 57.2375Z" fill="#FFA400" />
                            <path d="M25 19L36 30L25 41" stroke="white" stroke-linecap="round" stroke-width="2" transform="translate(60, 0) scale(-1, 1)"/>
                        </g>
                    </svg>
                </button>
                <button id="nextBtnMobile" class="arrow-button" aria-label="Next slide">
                    <svg class="arrow-svg" fill="none" preserveAspectRatio="none" viewBox="0 0 60 60">
                        <g class="arrow-group">
                            <path d="M29.6187 57.2375C44.8722 57.2375 57.2375 44.8722 57.2375 29.6187C57.2375 14.3653 44.8722 2 29.6187 2C14.3653 2 2 14.3653 2 29.6187C2 44.8722 14.3653 57.2375 29.6187 57.2375Z" fill="#FFA400" />
                            <path d="M25 19L36 30L25 41" stroke="white" stroke-linecap="round" stroke-width="2"/>
                        </g>
                    </svg>
                </button>
            </div>

            <!-- Pagination Dots -->
            <div id="pagination" class="pagination"></div>
        </div>
    </div>
</section>