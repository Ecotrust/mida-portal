<!-- mida-portal/mida/static/mida/components/homepage-slider/index.html -->
{% load static wagtailcore_tags wagtailcustom_tags wagtailimages_tags %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'mida/components/homepage-slider/style.css' %}">
{% endblock extra_css %}

{% block extra_js %}
    <script src="{% static 'mida/components/homepage-slider/homepage-slider.js' %}"></script>
{% endblock extra_js %}

<section class="homepage-slider">
    <div class="container">
        <div class="max-width">
            <!-- Header -->
            <div class="header">
                <h1 class="title">Latest News</h1>
                
                <div class="header-controls">
                    <!-- Navigation Arrows - Hidden on mobile -->
                    <div class="arrow-buttons desktop-only">
                        <button id="prevBtn" class="arrow-button" aria-label="Previous slide">
                            <svg class="arrow-svg" fill="none" preserveAspectRatio="none" viewBox="0 0 60 60">
                                <g class="arrow-group">
                                    <path d="M29.6187 57.2375C44.8722 57.2375 57.2375 44.8722 57.2375 29.6187C57.2375 14.3653 44.8722 2 29.6187 2C14.3653 2 2 14.3653 2 29.6187C2 44.8722 14.3653 57.2375 29.6187 57.2375Z" fill="#FFA400" />
                                    <path d="M25 19L36 30L25 41" stroke="white" stroke-linecap="round" stroke-width="2" transform="translate(60, 0) scale(-1, 1)"/>
                                </g>
                            </svg>
                        </button>
                        <button id="nextBtn" class="arrow-button" aria-label="Next slide">
                            <svg class="arrow-svg" fill="none" preserveAspectRatio="none" viewBox="0 0 60 60">
                                <g class="arrow-group">
                                    <path d="M29.6187 57.2375C44.8722 57.2375 57.2375 44.8722 57.2375 29.6187C57.2375 14.3653 44.8722 2 29.6187 2C14.3653 2 2 14.3653 2 29.6187C2 44.8722 14.3653 57.2375 29.6187 57.2375Z" fill="#FFA400" />
                                    <path d="M25 19L36 30L25 41" stroke="white" stroke-linecap="round" stroke-width="2"/>
                                </g>
                            </svg>
                        </button>
                    </div>

                    <!-- Go to All News Button -->
                    <button class="all-news-button">
                        <span class="all-news-text">GO TO ALL NEWS</span>
                    </button>
                </div>
            </div>

            {% for slide in page.slides.all %}
                    <div class="slide">
                            <a href="{{ slide.link }}">
                                <div class="slide-wrap">
                                <div class="slide-bg">
                                    {% image slide.slide_image min-1200x500 %}
                                </div>
                                <div class="slide-content">
                                    <h2 class="slide-title">{{ slide.title }}</h2>
                                    <div class="slide-body">{{ slide.body|anchored_richtext }}</div>
                                </div>
                                </div>
                            </a>
                    </div>
                {% endfor %}

            <!-- Slider Container -->
            <div class="slider-wrapper">
                <div id="slider" class="slider"></div>
            </div>

            <!-- Mobile Navigation Arrows -->
            <div class="arrow-buttons mobile-only">
                <button id="prevBtnMobile" class="arrow-button" aria-label="Previous slide">
                    <svg class="arrow-svg" fill="none" preserveAspectRatio="none" viewBox="0 0 60 60">
                        <g class="arrow-group">
                            <path d="M29.6187 57.2375C44.8722 57.2375 57.2375 44.8722 57.2375 29.6187C57.2375 14.3653 44.8722 2 29.6187 2C14.3653 2 2 14.3653 2 29.6187C2 44.8722 14.3653 57.2375 29.6187 57.2375Z" fill="#FFA400" />
                            <path d="M25 19L36 30L25 41" stroke="white" stroke-linecap="round" stroke-width="2" transform="translate(60, 0) scale(-1, 1)"/>
                        </g>
                    </svg>
                </button>
                <button id="nextBtnMobile" class="arrow-button" aria-label="Next slide">
                    <svg class="arrow-svg" fill="none" preserveAspectRatio="none" viewBox="0 0 60 60">
                        <g class="arrow-group">
                            <path d="M29.6187 57.2375C44.8722 57.2375 57.2375 44.8722 57.2375 29.6187C57.2375 14.3653 44.8722 2 29.6187 2C14.3653 2 2 14.3653 2 29.6187C2 44.8722 14.3653 57.2375 29.6187 57.2375Z" fill="#FFA400" />
                            <path d="M25 19L36 30L25 41" stroke="white" stroke-linecap="round" stroke-width="2"/>
                        </g>
                    </svg>
                </button>
            </div>

            <!-- Pagination Dots -->
            <div id="pagination" class="pagination"></div>
        </div>
    </div>
</section>