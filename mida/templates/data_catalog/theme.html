<!-- mida/templates/data_catalog/theme.html -->
{% extends "cms/section.html" %}
{% load static wagtailimages_tags %}

{% block extra_css %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'mida/data_catalog/theme.css' %}" type="text/css">
{% endblock %}

{% block body_class %}data-theme-page{% endblock %}

{% block page_header %}

    <div class="hero-flex-container">
        
        <div class="hero-left">
            <div class="title-line">
                <h7>
                    <img class="icon" src="{% static 'mida/data_catalog/img/i-folder.svg' %}" alt="Resource icon" />
                    <span class="count">{{ theme.layer_count }}</span> Resources
                </h7>
                <h4>
                    {% block title %}{{ theme.display_name }}{% endblock %}
                </h4>
            </div>
            
            {% if theme.description %}
                <div class="description">
                    <p>{{ theme.description }}</p>
                </div>
            {% endif %}
        </div>
        
        {% if theme.wagtail_feature_image %}
            <div class="hero-right">
                <div class="hero-image-wrap" style="background-image: url('{{ theme.wagtail_feature_image.file.url }}');">
                    {% image theme.wagtail_feature_image fill-520x430 class="feature" alt="{{ theme.display_name }}" %}
                </div>
            </div>
        {% endif %}
        
    </div>

{% endblock %}

{% block content %}
    <div class="bg-light-blue contain contain-padded">
        <section class="posts">
            
            <div class="layer-list">
                <h3>Child Themes</h3>
                <ul>
                    {% for child in children %}
                        <li>
                            <a href="{{ child.get_absolute_url }}">{{ child.display_name }}</a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
            
        </section>
    </div>
{% endblock %}